---
layout: post
title: Maquina Upload
subtitle: DockerLabs
header-img: img/in-post/2020-10-07/upload-dl.png
header-style: text
catalog: true
tags:
  -  DockerLabs
  -  Web Fuzzing
  -  Binarios UNIX
  -  Arbitrary File Upload
  -  Reverse Shell
---

#### **Información**
- **Máquina:** Upload
- **Creador:** El Pingüino de Mario
- **SO:** Linux
- **Dificultad:** Easy

#### **Configuración Entorno**
Lo primero que hacemos es descargarnos los archivos de dockerlabs de la maquina.
[img1]

Una vez descargado ejecutamos el siguiente script:
[img2]

**auto_deploy.sh:** este archivo se encarga de desplegar la máquina mediante docker y,
una vez presionamos `ctrl+c`{:.info}, pasa a un proceso de borrado, todo automático, sin necesidad de ener conocimientos de docker.

**upload.tar: **contiene todo el contenido de la máquina docker; es el corazón, donde está la máquina víctima.

#### **Reconocimiento**
Lo primero que realizamos es lanzar un ping contra la IP de la maquina para comprobar que tenemos conectividad.
```bash
ping -c 1 172.17.0.2
```
[img3]

Podemos observar que el ttl es de 64, por tanto, omo norma general podemos afirmas que se trata de una maquina linux.

Una vez comprobada la conectividad, inciaremos un escaneo con nmap, para detectar puertos abiertos y lo almacenaremos en un fichero llamado scan, con el siguiente comando:

```bash
nmap -p- --open -sV -sC -sS --min-rate=5000 -vvv -n -Pn -oN scan
```
- **-p-** --> Busqueda de puertos abiertos
- **--open** --> Enumera los puertos abiertos
- **-sS** --> Es un modo de escaneo rapido
- **-sC** --> Que use un conjunto de scripts de reconocimiento
- **-sV** --> Que encuentre la version del servicio abirto
- **--min-rate=5000** --> Hace que el reconocimiento aun vaya mas rapido mandando no menos de 5000 paquetes
- **-n** --> No hace resolución DNS
- **-Pn** --> No hace ping
- **-vvv** --> Muestra en pantalla a medida que encuentra puertos (Verbose)
